# ---------------- STEP EXECUTION LOG : SELECT (CLAIM LETTER) ----------------

step_counter += 1

frame_url = content_frame.url if content_frame else None

step_execution_logs.append({
    "step_order": step_counter,
    "gherkin_step": step_name,
    "step_type": "WHEN",
    "action_type": "SELECT",
    "status": "PASS",
    "error_message": None,

    # Frame details
    "frame_type": "content",
    "frame_url": frame_url,

    # Locator strategy used
    "locator_strategy": "dom_select_by_id",
    "locator_value": {
        "select_id": "lettersDropDownId",
        "matched_option_text": text,
        "matched_option_value": value,
        "total_options": opt_count
    },

    # Resolved element metadata
    "resolved_element_tag": "select",
    "resolved_element_text": text,
    "resolved_element_id": "lettersDropDownId",
    "resolved_element_name": None,
    "resolved_element_xpath": None,  # intentionally omitted

    # Semantic input
    "input_value": option_text,

    # Confidence
    "confidence": "HIGH",

    "execution_ts": datetime.now().isoformat()
})
